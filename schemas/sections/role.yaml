## =============================================================================
## TMDL Schema - Sección: ROLE
## Función y responsabilidades del TeamMate en el equipo
## =============================================================================

role:
  type: object
  description: |
    Define el rol funcional del TeamMate dentro del equipo. Especifica 
    qué tipo de trabajo realiza, sus áreas de expertise, responsabilidades 
    y límites de actuación.
  
  required:
    - type

  properties:
    
    ## -------------------------------------------------------------------------
    ## HERENCIA DE ROL TIPO
    ## -------------------------------------------------------------------------
    
    extends:
      type: string
      description: |
        Referencia a un archivo de rol tipo reutilizable. Si se especifica, 
        el TeamMate hereda las características definidas en ese rol tipo 
        y puede sobrescribir campos específicos.
      examples:
        - "roles/analyst.yaml"
        - "roles/researcher.yaml"
        - "roles/designer.yaml"

    ## -------------------------------------------------------------------------
    ## TIPO DE ROL
    ## -------------------------------------------------------------------------
    
    type:
      type: string
      description: |
        Tipo de rol principal que desempeña el TeamMate en el equipo.
        Determina su función fundamental.
      enum:
        - analyst        # Analiza datos, mercado, competencia, viabilidad
        - researcher     # Investiga fuentes, estado del arte, bibliografía
        - designer       # Diseña experiencias, interfaces, prototipos
        - strategist     # Define estrategia, objetivos, planificación
        - creator        # Genera contenido, textos, creatividades
        - coordinator    # Coordina tareas, tiempos, comunicación
        - critic         # Revisa, cuestiona, mejora propuestas
        - documentalist  # Documenta, organiza, mantiene memoria
        - generalist     # Rol generalista, sin especialización
        - custom         # Rol personalizado (usar type_custom)

    type_custom:
      type: string
      description: |
        Nombre del rol personalizado cuando type es 'custom'.
        Permite definir roles específicos no contemplados en el enum.
      minLength: 2
      maxLength: 50
      examples:
        - "Legal Advisor"
        - "Quality Assurance"
        - "Customer Voice"

    ## -------------------------------------------------------------------------
    ## ESTILO COGNITIVO
    ## -------------------------------------------------------------------------
    
    cognitive_style:
      type: string
      description: |
        Estilo de pensamiento predominante del TeamMate. Influye en 
        cómo aborda problemas, evalúa opciones y contribuye al equipo.
        Complementa la personalidad con un enfoque cognitivo específico.
      enum:
        - analytical       # Metódico, basado en datos, lógico
        - creative         # Imaginativo, busca soluciones originales
        - pragmatist       # Práctico, enfocado en lo factible
        - visionary        # Piensa en grande, largo plazo, disruptivo
        - optimist         # Ve oportunidades, motivador
        - devils_advocate  # Cuestiona, busca debilidades, escéptico
        - balanced         # Equilibrio entre diferentes estilos
      default: balanced

    ## -------------------------------------------------------------------------
    ## EXPERTISE
    ## -------------------------------------------------------------------------
    
    expertise:
      type: array
      description: |
        Áreas de conocimiento especializado del TeamMate. Define en qué 
        temas tiene competencia y a qué nivel.
      items:
        type: object
        required:
          - domain
        properties:
          domain:
            type: string
            description: "Área de conocimiento o habilidad"
            minLength: 2
            maxLength: 100
            examples:
              - "Análisis DAFO"
              - "Investigación de mercado"
              - "Diseño UX"
              - "Marketing digital"
          level:
            type: string
            description: |
              Nivel de competencia en esta área.
            enum:
              - basic          # Conocimientos básicos, puede ayudar en tareas simples
              - intermediate   # Competente, puede trabajar con supervisión
              - advanced       # Muy competente, puede trabajar autónomamente
              - expert         # Experto, puede guiar a otros y resolver problemas complejos
            default: intermediate
          description:
            type: string
            description: |
              Descripción específica de qué sabe hacer en esta área.
              Ayuda al LLM a entender el alcance de la expertise.
            maxLength: 300
            examples:
              - "Especialista en identificar fortalezas, debilidades, oportunidades y amenazas en proyectos turísticos"
              - "Domina técnicas de búsqueda en bases de datos académicas y evaluación de fuentes"
      minItems: 1
      maxItems: 15

    ## -------------------------------------------------------------------------
    ## RESPONSABILIDADES
    ## -------------------------------------------------------------------------
    
    responsibilities:
      type: array
      description: |
        Lista de responsabilidades principales que el TeamMate asume 
        dentro del equipo. Define qué tareas y funciones le corresponden.
      items:
        type: string
        minLength: 10
        maxLength: 200
      minItems: 1
      maxItems: 20
      examples:
        - "Realizar análisis de mercado y competencia"
        - "Elaborar estudios DAFO"
        - "Validar hipótesis del equipo con datos"
        - "Identificar tendencias relevantes para el proyecto"
        - "Revisar la calidad de los entregables antes de su presentación"

    ## -------------------------------------------------------------------------
    ## LÍMITES DE ACTUACIÓN
    ## -------------------------------------------------------------------------
    
    boundaries:
      type: object
      description: |
        Define los límites de actuación del TeamMate: qué puede hacer, 
        qué no debe hacer, y qué situaciones debe delegar a otros.
        Importante para evitar solapamientos y definir responsabilidades claras.
      properties:
        
        can_do:
          type: array
          description: |
            Lista de acciones que el TeamMate PUEDE y DEBE realizar.
            Define positivamente su ámbito de actuación.
          items:
            type: string
            maxLength: 200
          maxItems: 20
          examples:
            - "Analizar datos e información proporcionada"
            - "Generar informes estructurados"
            - "Cuestionar afirmaciones sin fundamento"
            - "Proponer hipótesis basadas en evidencia"

        cannot_do:
          type: array
          description: |
            Lista de acciones que el TeamMate NO DEBE realizar.
            Define restricciones y límites claros.
          items:
            type: string
            maxLength: 200
          maxItems: 20
          examples:
            - "Inventar datos o estadísticas"
            - "Tomar decisiones finales por el equipo"
            - "Ignorar información que contradiga sus análisis"
            - "Dar opiniones como si fueran hechos"

        defers_to:
          type: array
          description: |
            Situaciones que el TeamMate debe delegar a otros roles 
            o miembros del equipo. Define colaboración entre roles.
          items:
            type: object
            required:
              - situation
              - delegate_to
            properties:
              situation:
                type: string
                description: "Situación o tarea a delegar"
                maxLength: 200
              delegate_to:
                type: string
                description: "Rol o persona a quien delega"
                maxLength: 100
          maxItems: 10
          examples:
            - situation: "Diseño visual de presentaciones"
              delegate_to: "designer"
            - situation: "Redacción creativa de contenidos"
              delegate_to: "creator"
            - situation: "Decisiones estratégicas finales"
              delegate_to: "strategist o equipo humano"
